[gd_scene load_steps=6 format=2]

[ext_resource path="res://Palette.gd" type="Script" id=1]
[ext_resource path="res://Art.gd" type="Script" id=2]
[ext_resource path="res://FileDialog.gd" type="Script" id=3]
[ext_resource path="res://PalFileSelect.gd" type="Script" id=5]

[sub_resource type="GDScript" id=1]
script/source = "extends Button

var asmParser = m68kAsmParser.new()

# Declare member variables here. Examples:
# var a = 2
# var b = \"text\"


# Called when the node enters the scene tree for the first time.
func _ready():
	self.connect(\"pressed\", self, \"_button_pressed\")
	


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta):
	pass

func _button_pressed():
	var file = File.new()
	file.open(\"test.asm\",File.READ)
	var text = file.get_as_text()
	print(asmParser.parse(text))
	pass

"

[node name="World" type="Node2D"]

[node name="Camera2D" type="Camera2D" parent="."]
anchor_mode = 0
current = true

[node name="Palette" type="Node" parent="."]
script = ExtResource( 1 )

[node name="Sprite" type="Sprite" parent="Palette"]
z_index = -1
z_as_relative = false

[node name="Button" type="Button" parent="Palette"]
margin_left = 662.294
margin_top = 450.209
margin_right = 822.294
margin_bottom = 534.209
text = "Palette File"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="FileSelect" type="FileDialog" parent="Palette"]
margin_right = 447.0
margin_bottom = 266.0
popup_exclusive = true
window_title = "Открыть файл"
resizable = true
mode = 0
access = 2
filters = PoolStringArray( "*.pal,*.bin; Palette files" )
show_hidden_files = true
current_dir = "/Games/GodotProjects/GenesisProject"
current_path = "/Games/GodotProjects/GenesisProject/"
script = ExtResource( 5 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Art" type="Node" parent="."]
script = ExtResource( 2 )

[node name="Sprite" type="Sprite" parent="Art"]
scale = Vector2( 5, 5 )
z_index = -1
z_as_relative = false

[node name="Button" type="Button" parent="Art"]
margin_left = 468.551
margin_top = 452.335
margin_right = 633.551
margin_bottom = 534.335
text = "Art File"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="FileSelect" type="FileDialog" parent="Art"]
margin_right = 447.0
margin_bottom = 266.0
popup_exclusive = true
window_title = "Открыть файл"
resizable = true
mode = 0
access = 2
filters = PoolStringArray( "*.unc,*.bin; Art files" )
show_hidden_files = true
current_dir = "/Games/GodotProjects/GenesisProject"
current_path = "/Games/GodotProjects/GenesisProject/"
script = ExtResource( 3 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Button" type="Button" parent="."]
margin_left = 309.0
margin_top = 119.0
margin_right = 674.0
margin_bottom = 290.0
script = SubResource( 1 )
__meta__ = {
"_edit_use_anchors_": false
}
[connection signal="Updated" from="Palette" to="Art" method="_on_Palette_Updated"]
[connection signal="pressed" from="Palette/Button" to="Palette/FileSelect" method="_on_Button_pressed"]
[connection signal="file_selected" from="Palette/FileSelect" to="Palette" method="_on_FileSelect_file_selected"]
[connection signal="pressed" from="Art/Button" to="Art/FileSelect" method="_on_Button_pressed"]
[connection signal="file_selected" from="Art/FileSelect" to="Art" method="_on_FileSelect_file_selected"]
